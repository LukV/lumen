

Lumen — Visual & Interaction Design Brief Release: Tufte Purpose of this document This document defines the visual mood, principles, and constraints for Lumen’s design. It is not about branding or marketing polish. It is about earning trust from data analysts through restraint, clarity, and hon

pasted

19:45

The user prompt is empty, so there is no primary language established. However, I'll provide a summary of the thinking block: Concluded deliberation swiftly






Here's your Lumen mood board. A few notes on the design decisions:

Logo — The mark is an abstracted bar chart with varying heights and opacities, grounded by a thin baseline. It reads as "analytical instrument" rather than "tech product," paired with the wordmark in Source Serif 4 Light. Shown in light, dark, and compact variants.

Color system — Warm off-white base (
#F6F4F0), soft near-black text, and the deep aubergine accent (
#4A2D4F) used with extreme restraint. The six-color data palette is muted and print-like, referencing FT editorial charts.

Typography — Source Serif 4 for narrative and editorial content, DM Sans for UI and metadata. Both are calm, legible, and personality-free.

Chart + narrative specimen — Shows how insight text with highlighted data points integrates with the visualization as "two views of the same truth."

Lumen moodboard
Code · HTML 
1770576757438_image.png
1770576790628_image.png
Very, very good. Thank you. Included a mockup proposal of the next UI design (aubergine), and the actual current MVP (blue color). Starting from your moodboard make a mockup UI taking elements of the attachments but with a strong focus on good UX. Also allow the user to slide out and see other connections dashboards

19:58

Synthesized moodboard elements into cohesive UI mockup design








Here's the full UI mockup. Key UX decisions:

Slide-out connections panel — Click the hamburger icon (top-left) to open it. It shows active/inactive connections with status dots, metadata (engine, table count, row count), and saved dashboards below. Overlay dims the main content to maintain focus.

Improvements over the current MVP:

Horizontal bars use the aubergine palette with graduated opacity instead of default blue — the data encodes rank visually
Narrative block gets a subtle left-border accent linking it to the chart as "one analytical object"
Code drawer slides open in-place with SQL syntax highlighting on a dark surface, plus tabs for Chart Spec and Reasoning
Processing state shows contextual stage text ("Generating SQL · Analyzing schema…") instead of a generic spinner
Refine input lives at the bottom of each cell, scoping follow-ups to that specific analysis
Sample prompt chips on the hero give analysts immediate entry points
Layout philosophy: Single-column, max-width 820px, generous vertical rhythm between cells. Each cell reads as a self-contained analytical thought — question echo → chart → narrative → code → refine.

Lumen ui mockup
Code · HTML 
1770577709017_image.png
1770577928571_image.png
Almost there... stuff to improve:
* The hamburger menu next to the logo should be another icon, see attachment
* The ask input at the top and the refine input at the bottom is confusing. An empty dashboard has the heade (From Q to insight ... including example queries) center page
* When the user clicks Ask we go the next screen with the input field at the bottom and results above them, like the image in attachment

20:12

Restructuring dashboard layout and refining icon components




Claude is AI and can make mistakes. Please double-check responses.
Lumen ui mockup · HTML
Copy

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lumen — UI Mockup</title>
<link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,300;0,8..60,400;0,8..60,500;0,8..60,600;1,8..60,400&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #F6F4F0;
    --bg-warm: #F0EDE7;
    --bg-card: #FAFAF8;
    --bg-code: #2C2A27;
    --bg-code-surface: #35332F;
    --text-primary: #2C2A27;
    --text-secondary: #7A756D;
    --text-tertiary: #A39E95;
    --text-on-dark: #E8E5DF;
    --accent: #4A2D4F;
    --accent-light: #5E3A64;
    --accent-muted: rgba(74, 45, 79, 0.08);
    --accent-border: rgba(74, 45, 79, 0.15);
    --accent-glow: rgba(74, 45, 79, 0.06);
    --border: rgba(44, 42, 39, 0.08);
    --border-strong: rgba(44, 42, 39, 0.14);
    --success: #4A7A6F;
    --success-bg: rgba(74, 122, 111, 0.08);

    --data-1: #4A2D4F;
    --data-2: #C2876E;
    --data-3: #6B8F8A;
    --data-4: #B8A44C;
    --data-5: #8C7B6B;
    --data-6: #A3667E;

    --font-body: 'DM Sans', system-ui, sans-serif;
    --font-editorial: 'Source Serif 4', Georgia, serif;
    --font-mono: 'JetBrains Mono', monospace;

    --sidebar-width: 320px;
    --topbar-height: 56px;
    --radius: 6px;
    --radius-sm: 4px;

    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text-primary);
    font-family: var(--font-body);
    -webkit-font-smoothing: antialiased;
    height: 100vh;
    overflow: hidden;
  }

  /* ═══════════════════════════════════════
     LAYOUT SHELL
     ═══════════════════════════════════════ */
  .app {
    display: flex;
    height: 100vh;
    position: relative;
  }

  /* ── Slide-out Sidebar ── */
  .sidebar-overlay {
    position: fixed;
    inset: 0;
    background: rgba(44, 42, 39, 0.15);
    z-index: 90;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.35s var(--ease-in-out);
  }

  .sidebar-overlay.visible {
    opacity: 1;
    pointer-events: all;
  }

  .sidebar {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: var(--sidebar-width);
    background: var(--bg-card);
    border-right: 1px solid var(--border-strong);
    z-index: 100;
    transform: translateX(-100%);
    transition: transform 0.4s var(--ease-out);
    display: flex;
    flex-direction: column;
  }

  .sidebar.open {
    transform: translateX(0);
  }

  .sidebar-header {
    padding: 20px 24px;
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
  }

  .sidebar-title {
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-tertiary);
  }

  .sidebar-close {
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    color: var(--text-tertiary);
    transition: all 0.15s;
  }

  .sidebar-close:hover {
    background: var(--bg-warm);
    color: var(--text-primary);
  }

  .sidebar-body {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
  }

  .sidebar-section-label {
    font-size: 10px;
    font-weight: 500;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-tertiary);
    padding: 8px 8px 10px;
  }

  .conn-card {
    padding: 14px 16px;
    border-radius: var(--radius);
    border: 1px solid var(--border);
    cursor: pointer;
    transition: all 0.2s;
    margin-bottom: 6px;
  }

  .conn-card:hover {
    border-color: var(--accent-border);
    background: var(--accent-glow);
  }

  .conn-card.active {
    border-color: var(--accent-border);
    background: var(--accent-muted);
  }

  .conn-card-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
  }

  .conn-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
  }

  .conn-status {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: var(--success);
  }

  .conn-status.offline {
    background: var(--text-tertiary);
  }

  .conn-meta {
    font-size: 11px;
    color: var(--text-tertiary);
    line-height: 1.5;
  }

  .conn-tags {
    display: flex;
    gap: 4px;
    margin-top: 8px;
  }

  .conn-tag {
    font-size: 10px;
    color: var(--text-secondary);
    background: var(--bg-warm);
    padding: 2px 8px;
    border-radius: 3px;
  }

  .sidebar-footer {
    padding: 16px;
    border-top: 1px solid var(--border);
    flex-shrink: 0;
  }

  .btn-add-conn {
    width: 100%;
    padding: 10px 16px;
    border: 1px dashed var(--border-strong);
    background: transparent;
    border-radius: var(--radius);
    font-family: var(--font-body);
    font-size: 13px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
  }

  .btn-add-conn:hover {
    border-color: var(--accent-border);
    color: var(--accent);
    background: var(--accent-glow);
  }

  /* ── Main content ── */
  .main {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0;
  }

  /* ── Top bar ── */
  .topbar {
    height: var(--topbar-height);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 28px;
    flex-shrink: 0;
    background: var(--bg-card);
  }

  .topbar-left {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .btn-sidebar-toggle {
    width: 32px;
    height: 32px;
    border: 1px solid var(--border);
    background: transparent;
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    transition: all 0.15s;
    flex-shrink: 0;
  }

  .btn-sidebar-toggle:hover {
    border-color: var(--accent-border);
    color: var(--accent);
    background: var(--accent-glow);
  }

  .topbar-logo {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .topbar-wordmark {
    font-family: var(--font-editorial);
    font-size: 20px;
    font-weight: 300;
    letter-spacing: 0.03em;
    color: var(--text-primary);
  }

  .topbar-right {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .conn-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    color: var(--text-secondary);
  }

  .conn-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--success);
  }

  .topbar-icon-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-tertiary);
    transition: all 0.15s;
  }

  .topbar-icon-btn:hover {
    background: var(--bg-warm);
    color: var(--text-primary);
  }

  /* ── Scrollable content ── */
  .content-scroll {
    flex: 1;
    overflow-y: auto;
    scroll-behavior: smooth;
  }

  .content-inner {
    max-width: 820px;
    margin: 0 auto;
    padding: 0 32px;
  }

  /* ═══════════════════════════════════════
     HERO / EMPTY STATE
     ═══════════════════════════════════════ */
  .hero {
    padding: 72px 0 48px;
    text-align: center;
  }

  .hero-title {
    font-family: var(--font-editorial);
    font-size: 34px;
    font-weight: 300;
    line-height: 1.3;
    color: var(--text-primary);
    margin-bottom: 12px;
    letter-spacing: -0.01em;
  }

  .hero-sub {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.6;
  }

  /* ── Sample prompts ── */
  .sample-prompts {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 32px;
    flex-wrap: wrap;
    padding: 0 32px;
  }

  .sample-chip {
    font-size: 13px;
    color: var(--text-secondary);
    padding: 8px 16px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
  }

  .sample-chip:hover {
    border-color: var(--accent-border);
    color: var(--accent);
    background: var(--accent-muted);
  }

  /* ═══════════════════════════════════════
     INPUT BAR
     ═══════════════════════════════════════ */
  .input-container {
    padding: 24px 0 0;
    position: relative;
  }

  .input-wrapper {
    display: flex;
    align-items: center;
    background: var(--bg-card);
    border: 1px solid var(--border-strong);
    border-radius: var(--radius);
    padding: 4px 4px 4px 20px;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .input-wrapper:focus-within {
    border-color: var(--accent-border);
    box-shadow: 0 0 0 3px var(--accent-glow);
  }

  .input-field {
    flex: 1;
    border: none;
    outline: none;
    background: transparent;
    font-family: var(--font-body);
    font-size: 15px;
    color: var(--text-primary);
    padding: 12px 0;
  }

  .input-field::placeholder {
    color: var(--text-tertiary);
  }

  .btn-ask {
    padding: 10px 24px;
    background: var(--accent);
    color: #F6F4F0;
    border: none;
    border-radius: var(--radius-sm);
    font-family: var(--font-body);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
    flex-shrink: 0;
    letter-spacing: 0.01em;
  }

  .btn-ask:hover {
    background: var(--accent-light);
  }

  /* ═══════════════════════════════════════
     ANALYSIS CELLS
     ═══════════════════════════════════════ */
  .cells {
    padding: 8px 0 120px;
  }

  .cell {
    margin-top: 32px;
  }

  /* ── Question echo ── */
  .cell-question {
    font-size: 13px;
    color: var(--text-secondary);
    padding: 12px 0;
    border-bottom: 1px solid var(--border);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .cell-question .q-icon {
    color: var(--accent);
    font-weight: 600;
    font-size: 12px;
    opacity: 0.6;
  }

  /* ── Processing indicator ── */
  .cell-processing {
    padding: 24px 0;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .processing-dots {
    display: flex;
    gap: 4px;
  }

  .processing-dots span {
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: var(--accent);
    opacity: 0.3;
    animation: dot-pulse 1.2s ease-in-out infinite;
  }

  .processing-dots span:nth-child(2) { animation-delay: 0.15s; }
  .processing-dots span:nth-child(3) { animation-delay: 0.3s; }

  @keyframes dot-pulse {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 0.7; }
  }

  .processing-stage {
    font-size: 12px;
    color: var(--text-tertiary);
  }

  /* ── Chart card ── */
  .chart-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    overflow: hidden;
  }

  .chart-header {
    padding: 24px 28px 0;
  }

  .chart-title {
    font-family: var(--font-editorial);
    font-size: 17px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 4px;
  }

  .chart-subtitle {
    font-size: 12px;
    color: var(--text-tertiary);
  }

  .chart-body {
    padding: 20px 28px 24px;
  }

  .chart-svg {
    width: 100%;
    height: auto;
  }

  /* ── Narrative block ── */
  .narrative-card {
    padding: 24px 28px;
    border-left: 2px solid var(--accent-border);
    margin-top: 16px;
    background: var(--bg-card);
    border-radius: 0 var(--radius) var(--radius) 0;
    border-top: 1px solid var(--border);
    border-right: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
  }

  .narrative-label {
    font-size: 10px;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-tertiary);
    margin-bottom: 10px;
  }

  .narrative-text {
    font-family: var(--font-editorial);
    font-size: 15px;
    line-height: 1.75;
    color: var(--text-primary);
    font-weight: 400;
  }

  .narrative-text .hl {
    background: var(--accent-muted);
    padding: 1px 5px;
    border-radius: 3px;
    color: var(--accent);
    font-weight: 500;
    white-space: nowrap;
  }

  /* ── Code drawer ── */
  .code-toggle {
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 14px 0;
    margin-top: 12px;
  }

  .code-toggle-btn {
    font-size: 12px;
    color: var(--text-tertiary);
    background: none;
    border: none;
    cursor: pointer;
    font-family: var(--font-body);
    display: flex;
    align-items: center;
    gap: 5px;
    transition: color 0.15s;
  }

  .code-toggle-btn:hover {
    color: var(--text-secondary);
  }

  .code-toggle-btn .arrow {
    display: inline-block;
    transition: transform 0.25s var(--ease-out);
    font-size: 10px;
  }

  .code-toggle-btn .arrow.open {
    transform: rotate(90deg);
  }

  .cell-meta {
    font-size: 11px;
    color: var(--text-tertiary);
    display: flex;
    gap: 12px;
    align-items: center;
  }

  .cell-meta .sep {
    width: 3px;
    height: 3px;
    border-radius: 50%;
    background: var(--border-strong);
  }

  .code-drawer {
    overflow: hidden;
    max-height: 0;
    transition: max-height 0.4s var(--ease-out);
  }

  .code-drawer.open {
    max-height: 600px;
  }

  .code-tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }

  .code-tab {
    padding: 10px 20px;
    font-size: 12px;
    font-weight: 500;
    color: rgba(232, 229, 223, 0.4);
    background: transparent;
    border: none;
    cursor: pointer;
    font-family: var(--font-body);
    border-bottom: 2px solid transparent;
    transition: all 0.15s;
  }

  .code-tab.active {
    color: var(--text-on-dark);
    border-bottom-color: var(--accent-light);
  }

  .code-tab:hover:not(.active) {
    color: rgba(232, 229, 223, 0.6);
  }

  .code-block {
    background: var(--bg-code);
    border-radius: var(--radius);
    overflow: hidden;
  }

  .code-content {
    padding: 20px 24px;
    font-family: var(--font-mono);
    font-size: 12.5px;
    line-height: 1.7;
    color: var(--text-on-dark);
    overflow-x: auto;
    white-space: pre;
  }

  .code-content .kw { color: #C2876E; }
  .code-content .fn { color: #6B8F8A; }
  .code-content .str { color: #B8A44C; }
  .code-content .cm { color: rgba(232,229,223,0.3); }

  .code-actions {
    padding: 8px 16px 12px;
    display: flex;
    gap: 8px;
  }

  .btn-code-action {
    padding: 6px 14px;
    border-radius: var(--radius-sm);
    border: 1px solid rgba(255,255,255,0.1);
    background: var(--bg-code-surface);
    color: var(--text-on-dark);
    font-family: var(--font-body);
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
  }

  .btn-code-action:hover {
    border-color: rgba(255,255,255,0.2);
    background: rgba(255,255,255,0.08);
  }

  .btn-code-action.primary {
    background: var(--accent);
    border-color: var(--accent);
  }

  .btn-code-action.primary:hover {
    background: var(--accent-light);
  }

  /* ── Refine bar (bottom of cell) ── */
  .refine-bar {
    margin-top: 20px;
    padding-top: 16px;
    border-top: 1px solid var(--border);
  }

  .refine-wrapper {
    display: flex;
    align-items: center;
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 3px 3px 3px 16px;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .refine-wrapper:focus-within {
    border-color: var(--accent-border);
    box-shadow: 0 0 0 3px var(--accent-glow);
  }

  .refine-input {
    flex: 1;
    border: none;
    outline: none;
    background: transparent;
    font-family: var(--font-body);
    font-size: 13px;
    color: var(--text-primary);
    padding: 8px 0;
  }

  .refine-input::placeholder {
    color: var(--text-tertiary);
  }

  .btn-refine {
    padding: 7px 16px;
    background: var(--accent);
    color: #F6F4F0;
    border: none;
    border-radius: var(--radius-sm);
    font-family: var(--font-body);
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
  }

  .btn-refine:hover {
    background: var(--accent-light);
  }

  /* ═══════════════════════════════════════
     SECOND ANALYSIS CELL (genre breakdown)
     ═══════════════════════════════════════ */

  /* ── Horizontal bar chart ── */
  .bar-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
  }

  .bar-label {
    font-size: 12px;
    color: var(--text-secondary);
    width: 120px;
    text-align: right;
    flex-shrink: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .bar-track {
    flex: 1;
    height: 22px;
    background: var(--bg-warm);
    border-radius: 2px;
    overflow: hidden;
    position: relative;
  }

  .bar-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.5s var(--ease-out);
  }

  .bar-value {
    font-size: 11px;
    color: var(--text-tertiary);
    width: 56px;
    flex-shrink: 0;
    font-family: var(--font-mono);
  }

  /* ═══════════════════════════════════════
     RESPONSIVE & UTILS
     ═══════════════════════════════════════ */

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(0,0,0,0);
    white-space: nowrap;
  }

  /* Scrollbar styling */
  .content-scroll::-webkit-scrollbar,
  .sidebar-body::-webkit-scrollbar {
    width: 6px;
  }

  .content-scroll::-webkit-scrollbar-track,
  .sidebar-body::-webkit-scrollbar-track {
    background: transparent;
  }

  .content-scroll::-webkit-scrollbar-thumb,
  .sidebar-body::-webkit-scrollbar-thumb {
    background: rgba(44, 42, 39, 0.12);
    border-radius: 3px;
  }

  .content-scroll::-webkit-scrollbar-thumb:hover,
  .sidebar-body::-webkit-scrollbar-thumb:hover {
    background: rgba(44, 42, 39, 0.2);
  }

  /* ── Keyboard shortcut hint ── */
  .kbd {
    font-size: 10px;
    font-family: var(--font-mono);
    color: var(--text-tertiary);
    background: var(--bg-warm);
    border: 1px solid var(--border);
    border-radius: 3px;
    padding: 1px 5px;
    line-height: 1;
  }
</style>
</head>
<body>

<div class="app">
  <!-- ════ Sidebar Overlay ════ -->
  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

  <!-- ════ Sidebar ════ -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <span class="sidebar-title">Connections</span>
      <button class="sidebar-close" onclick="toggleSidebar()" aria-label="Close sidebar">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div class="sidebar-body">
      <div class="sidebar-section-label">Active</div>

      <div class="conn-card active">
        <div class="conn-card-top">
          <span class="conn-name">sales_db</span>
          <span class="conn-status"></span>
        </div>
        <div class="conn-meta">PostgreSQL · 24 tables · 1.2M rows</div>
        <div class="conn-tags">
          <span class="conn-tag">Production</span>
          <span class="conn-tag">Read-only</span>
        </div>
      </div>

      <div class="conn-card">
        <div class="conn-card-top">
          <span class="conn-name">analytics_warehouse</span>
          <span class="conn-status"></span>
        </div>
        <div class="conn-meta">BigQuery · 86 tables · 48M rows</div>
        <div class="conn-tags">
          <span class="conn-tag">Warehouse</span>
        </div>
      </div>

      <div style="margin-top: 24px;">
        <div class="sidebar-section-label">Inactive</div>

        <div class="conn-card">
          <div class="conn-card-top">
            <span class="conn-name">staging_metrics</span>
            <span class="conn-status offline"></span>
          </div>
          <div class="conn-meta">PostgreSQL · Last connected 3d ago</div>
        </div>

        <div class="conn-card">
          <div class="conn-card-top">
            <span class="conn-name">product_events</span>
            <span class="conn-status offline"></span>
          </div>
          <div class="conn-meta">Snowflake · Last connected 1w ago</div>
        </div>
      </div>

      <div style="margin-top: 24px;">
        <div class="sidebar-section-label">Saved Dashboards</div>

        <div class="conn-card">
          <div class="conn-card-top">
            <span class="conn-name" style="font-size: 13px;">Q3 Revenue Analysis</span>
          </div>
          <div class="conn-meta">5 queries · sales_db · Oct 14</div>
        </div>

        <div class="conn-card">
          <div class="conn-card-top">
            <span class="conn-name" style="font-size: 13px;">Customer Cohort Deep Dive</span>
          </div>
          <div class="conn-meta">8 queries · analytics_warehouse · Oct 11</div>
        </div>

        <div class="conn-card">
          <div class="conn-card-top">
            <span class="conn-name" style="font-size: 13px;">Churn Signals</span>
          </div>
          <div class="conn-meta">3 queries · analytics_warehouse · Oct 8</div>
        </div>
      </div>
    </div>

    <div class="sidebar-footer">
      <button class="btn-add-conn">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M7 2v10M2 7h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        Add connection
      </button>
    </div>
  </aside>

  <!-- ════ Main content ════ -->
  <div class="main">
    <!-- Top bar -->
    <header class="topbar">
      <div class="topbar-left">
        <button class="btn-sidebar-toggle" onclick="toggleSidebar()" aria-label="Open connections">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M2 4h12M2 8h12M2 12h12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        </button>
        <div class="topbar-logo">
          <svg width="28" height="28" viewBox="0 0 40 40" fill="none">
            <rect x="4" y="8" width="3" height="24" rx="1.5" fill="#4A2D4F"/>
            <rect x="12" y="14" width="3" height="18" rx="1.5" fill="#4A2D4F" opacity="0.7"/>
            <rect x="20" y="6" width="3" height="26" rx="1.5" fill="#4A2D4F" opacity="0.85"/>
            <rect x="28" y="11" width="3" height="21" rx="1.5" fill="#4A2D4F" opacity="0.55"/>
            <rect x="36" y="18" width="3" height="14" rx="1.5" fill="#4A2D4F" opacity="0.35"/>
            <line x1="2" y1="33.5" x2="40" y2="33.5" stroke="#4A2D4F" stroke-width="1" opacity="0.3"/>
          </svg>
          <span class="topbar-wordmark">Lumen</span>
        </div>
      </div>

      <div class="topbar-right">
        <div class="conn-indicator">
          <span class="conn-dot"></span>
          sales_db
        </div>
        <button class="topbar-icon-btn" title="History" aria-label="History">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 3v5l3 2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><circle cx="8" cy="8" r="5.5" stroke="currentColor" stroke-width="1.4"/></svg>
        </button>
        <button class="topbar-icon-btn" title="Settings" aria-label="Settings">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="2" stroke="currentColor" stroke-width="1.4"/><path d="M8 1.5v2M8 12.5v2M1.5 8h2M12.5 8h2M3.1 3.1l1.4 1.4M11.5 11.5l1.4 1.4M3.1 12.9l1.4-1.4M11.5 4.5l1.4-1.4" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/></svg>
        </button>
      </div>
    </header>

    <!-- Scrollable content -->
    <div class="content-scroll">
      <div class="content-inner">

        <!-- Hero -->
        <div class="hero">
          <h1 class="hero-title">From question to insight<br>in one conversation.</h1>
          <p class="hero-sub">Your thinking partner for reproducible data exploration.</p>
          <div class="sample-prompts">
            <span class="sample-chip">Top customers by lifetime value</span>
            <span class="sample-chip">Revenue trend by quarter</span>
            <span class="sample-chip">Which categories have declining rentals?</span>
          </div>
        </div>

        <!-- Primary input -->
        <div class="input-container">
          <div class="input-wrapper">
            <input type="text" class="input-field" placeholder="Ask any question about your data…" value="Top customers by lifetime value" />
            <button class="btn-ask">Ask</button>
          </div>
        </div>

        <!-- Analysis cells -->
        <div class="cells">

          <!-- ──── CELL 1 ──── -->
          <div class="cell">
            <div class="cell-question">
              <span class="q-icon">Q</span>
              Top customers by lifetime value
            </div>

            <!-- Chart -->
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title">Top 10 customers by lifetime value</div>
                <div class="chart-subtitle">Ranked by cumulative spend · All-time</div>
              </div>
              <div class="chart-body">
                <div style="display: flex; flex-direction: column; gap: 6px;">
                  <!-- Chart bars -->
                  <div class="bar-row">
                    <span class="bar-label">Karl Seal</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 100%; background: var(--data-1);"></div></div>
                    <span class="bar-value">$221.55</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Eleanor Hunt</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 97%; background: var(--data-1); opacity: 0.85;"></div></div>
                    <span class="bar-value">$216.54</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Clara Shaw</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 89%; background: var(--data-1); opacity: 0.72;"></div></div>
                    <span class="bar-value">$195.58</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Marion Snyder</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 87%; background: var(--data-1); opacity: 0.65;"></div></div>
                    <span class="bar-value">$194.61</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Rhonda Kennedy</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 85%; background: var(--data-1); opacity: 0.58;"></div></div>
                    <span class="bar-value">$191.62</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Tommy Collazo</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 83%; background: var(--data-1); opacity: 0.52;"></div></div>
                    <span class="bar-value">$186.76</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Wesley Bull</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 81%; background: var(--data-1); opacity: 0.46;"></div></div>
                    <span class="bar-value">$184.22</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Tim Cary</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 80%; background: var(--data-1); opacity: 0.42;"></div></div>
                    <span class="bar-value">$182.91</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Marcia Dean</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 79%; background: var(--data-1); opacity: 0.38;"></div></div>
                    <span class="bar-value">$180.34</span>
                  </div>
                  <div class="bar-row">
                    <span class="bar-label">Ana Bradley</span>
                    <div class="bar-track"><div class="bar-fill" style="width: 77%; background: var(--data-1); opacity: 0.34;"></div></div>
                    <span class="bar-value">$174.66</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Narrative -->
            <div class="narrative-card">
              <div class="narrative-label">Insight</div>
              <p class="narrative-text">
                Karl Seal leads as the highest-value customer with <span class="hl">$221.55</span> in lifetime value across <span class="hl">45 transactions</span>, followed closely by Eleanor Hunt at <span class="hl">$216.54</span> with <span class="hl">46 transactions</span>. The top 10 show remarkably consistent spending, with lifetime values ranging from <span class="hl">$174.66</span> to <span class="hl">$221.55</span> and transaction counts between 34–46 purchases. Ana Bradley demonstrates the highest average transaction value at <span class="hl">$5.14</span> per purchase, while Marcia Dean has the lowest at <span class="hl">$4.18</span>, indicating different purchasing behaviors among high-value customers.
              </p>
            </div>

            <!-- Code toggle -->
            <div class="code-toggle">
              <button class="code-toggle-btn" onclick="toggleCode(this)">
                <span class="arrow">▸</span> Show code
              </button>
              <div class="cell-meta">
                <span>10 rows</span>
                <span class="sep"></span>
                <span>160ms</span>
                <span class="sep"></span>
                <span>claude-sonnet-4-20250514</span>
              </div>
            </div>

            <!-- Code drawer -->
            <div class="code-drawer" id="codeDrawer1">
              <div class="code-block">
                <div class="code-tabs">
                  <button class="code-tab active">SQL</button>
                  <button class="code-tab">Chart Spec</button>
                  <button class="code-tab">Reasoning</button>
                </div>
                <div class="code-content"><span class="kw">WITH</span> all_payments <span class="kw">AS</span> (
  <span class="kw">SELECT</span> payment_id, customer_id, staff_id,
         rental_id, amount, payment_date
  <span class="kw">FROM</span> payment_p2022_01
  <span class="kw">UNION ALL</span>
  <span class="kw">SELECT</span> payment_id, customer_id, staff_id,
         rental_id, amount, payment_date
  <span class="kw">FROM</span> payment_p2022_02
)
<span class="kw">SELECT</span>
  c.first_name || <span class="str">' '</span> || c.last_name <span class="kw">AS</span> customer,
  <span class="fn">SUM</span>(p.amount) <span class="kw">AS</span> lifetime_value,
  <span class="fn">COUNT</span>(*) <span class="kw">AS</span> transaction_count
<span class="kw">FROM</span> all_payments p
<span class="kw">JOIN</span> customer c <span class="kw">ON</span> c.customer_id = p.customer_id
<span class="kw">GROUP BY</span> c.customer_id, customer
<span class="kw">ORDER BY</span> lifetime_value <span class="kw">DESC</span>
<span class="kw">LIMIT</span> <span class="str">10</span>;</div>
                <div class="code-actions">
                  <button class="btn-code-action primary">Run</button>
                  <button class="btn-code-action">Copy</button>
                  <button class="btn-code-action">Edit</button>
                </div>
              </div>
            </div>

            <!-- Refine -->
            <div class="refine-bar">
              <div class="refine-wrapper">
                <input type="text" class="refine-input" placeholder="Refine this analysis…" />
                <button class="btn-refine">Ask</button>
              </div>
            </div>
          </div>

          <!-- ──── CELL 2 (processing state) ──── -->
          <div class="cell">
            <div class="cell-question">
              <span class="q-icon">Q</span>
              Which actors appear in the highest-grossing films?
            </div>
            <div class="cell-processing">
              <div class="processing-dots">
                <span></span><span></span><span></span>
              </div>
              <span class="processing-stage">Generating SQL · Analyzing schema…</span>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('open');
    document.getElementById('sidebarOverlay').classList.toggle('visible');
  }

  function toggleCode(btn) {
    const drawer = btn.closest('.cell').querySelector('.code-drawer');
    const arrow = btn.querySelector('.arrow');
    drawer.classList.toggle('open');
    arrow.classList.toggle('open');
    btn.childNodes[btn.childNodes.length - 1].textContent =
      drawer.classList.contains('open') ? ' Hide code' : ' Show code';
  }

  // Sample chip click → fill input
  document.querySelectorAll('.sample-chip').forEach(chip => {
    chip.addEventListener('click', () => {
      document.querySelector('.input-field').value = chip.textContent;
    });
  });
</script>

</body>
</html>


